---
title: DataScript&#58; Execution Priority
layout: default
---
Many DataScript capabilities can be performed via policies or standard features. It is important to understand the order of precedence, as the execution priority will dictate the order that various features, policies, and DataScripts will occur.  For instance, if a policy decides to discard a connection while a DataScript decides to redirect the client, the order of execution is critical to ensuring the intended behavior occurs.

Responses generated by DataScripts or policies (as opposed to responses generated by a server) are not evaluated by DataScripts.  For instance, an HTTP response generated by the HTTP Request Policy cannot be inspected or modified by a DataScript.

Avi Vantage processes traffic in the following order of precedence below.  This is not an exhaustive list of native features, though this is the most common insertion points through the processing flow.

 

### Client to Server:

<ol> 
 <li>TCP Setup</li> 
 <li>Rate Shaping</li> 
 <li>Network Security Policy</li> 
 <li>SSL Handshake</li> 
 <li>HTTP Security Policy</li> 
 <li>HTTP Request Policy</li> 
 <li>DataScript Request Event</li> 
 <li>Normal VS/Pool/Profile Processing</li> 
</ol> 

 

### Server to Client:

<ol> 
 <li>DataScript Response Event</li> 
 <li>HTTP Response Policy</li> 
</ol> 

 

### Multiple DataScripts

More than one DataScript may be applied to a single virtual service.  The order of the DataScripts is important, as DataScripts with the same event will be executed in the order set.  When adding DataScripts via the UI, use the up and down arrows next to the DataScript to reorder.  The DataScript at the top of the list will execute first.

 
