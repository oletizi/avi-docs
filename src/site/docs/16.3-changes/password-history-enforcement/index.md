---
title: Password History Enforcement
layout: default
---
This feature prevents a user from updating his/her password to some password that was used in the recent past. A configurable number of previous password hashes are saved in the system. Any future proposed password update is compared against this list and marked invalid if there is a perfect match.

The administrator controls this feature via Avi Vantage's CLI or REST API. The setting for it is maintained within the <code>UserAccountProfile</code> object. By default, all the users in the system are attached to “Default-User-Account-Profile," as shown below. If required, the admin can create a new user account profile with different thresholds.
<code><br> admin:10-10-24-52]: &gt; show useraccountprofile Default-User-Account-Profile<br> +-------------------------------+---------------------------------------------------------+<br> | Field                         | Value                                                   |<br> +-------------------------------+---------------------------------------------------------+<br> | uuid                          | useraccountprofile-6753548e-7ac5-4601-939b-ad4394405db4 |<br> | name                          | Default-User-Account-Profile                            |<br> | max_password_history_count    | 0                                                       |<br> | max_login_failure_count       | 20                                                      |<br> | account_lock_timeout          | 30                                                      |<br> | max_concurrent_sessions       | 0                                                       |<br> | credentials_timeout_threshold | 0                                                       |<br> +-------------------------------+---------------------------------------------------------+<br> </code>

 

Use the CLI to change the password history count:
<code><br> [admin:10-10-24-52]: &gt; configure useraccountprofile Default-User-Account-Profile<br> [admin:10-10-24-52]: useraccountprofile&gt; max_password_history_count 5<br> Overwriting the previously entered value for max_password_history_count<br> [admin:10-10-24-52]: useraccountprofile&gt; save<br> +-------------------------------+---------------------------------------------------------+<br> | Field                         | Value                                                   |<br> +-------------------------------+---------------------------------------------------------+<br> | uuid                          | useraccountprofile-6753548e-7ac5-4601-939b-ad4394405db4 |<br> | name                          | Default-User-Account-Profile                            |<br> | max_password_history_count    | 5                                                       |<br> | max_login_failure_count       | 20                                                      |<br> | account_lock_timeout          | 30                                                      |<br> | max_concurrent_sessions       | 0                                                       |<br> | credentials_timeout_threshold | 0                                                       |<br> +-------------------------------+---------------------------------------------------------+<br> </code>
